<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="HTML練習" />
    <meta property="og:type" content='website' />
    <meta property="og:url" content="" />
    <meta property="og:description" content="職訓局、職前訓練、HTML、PHP、跨平台設置" />
    <meta property="og:image" content="https://s.yimg.com/cv/apiv2/social/images/yahoo_default_logo.png" />
    <meta property="og:site_name" content="HTML練習" />
    <title>HTML練習</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/mycss.css">
    <style>
        :root {
            --icystone01: #A6C2CE;
            --mangodream01: #ffe083;
            --icystone02: #9C8F96;
            --mangodream02: #e99a24;
            --icystone03: #EBC57C;
            --mangodream03: #2b3c1a;
            --icystone04: #6B799E;
            --mangodream04: #171516;

            --pinkpowders01: #ece4e2;
            --coolchameleon01: #d9cfe7;
            --pinkpowders02: #fcd3d1;
            --coolchameleon02: #a8bcba;
            --pinkpowders03: #fcdff3;
            --coolchameleon03: #acc66d;
            --pinkpowders04: #fe929f;
            --coolchameleon04: #50697d;

            --corkcrowd01: #b98d72;
            --corkcrowd02: #ae4951;
            --corkcrowd03: #57233a;
            --corkcrowd04: #161b1f;

            --frame: #3D313F;
            --wordbgc: #caffca;
            --antiwhite: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="row">
            <div class="col-md-8 offset-2">
                <div class="demo">
                    <div class="mb-3">
                        <label for="username">帳號</label>
                        <input type="text" name="username" id="username" class="form-control" placeholder="字數限制0~8個字">
                    </div>

                    <div class="err_username mb-3">&nbsp</div>

                    <div class="mb-3">
                        <label for="password">密碼</label>
                        <input type="password" name="password" id="password" class="form-control"
                            placeholder="字數限制4~10個字">
                    </div>

                    <div class="err_password mb-3">&nbsp</div>

                    <div class="mb-3">
                        <label for="confirm_password">確認密碼</label>
                        <input type="password" name="confirm_password" id="confirm_password" class="form-control"
                            placeholder="再次輸入密碼!">
                    </div>
                    <div class="err_confirm_password mb-3">&nbsp</div>

                    <div class="mb-3">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" class="form-control" placeholder="email字數8~12個字!">
                        <div class="valid-feedback">email格式正確</div>
                        <div class="invalid-feedback">email格式錯誤</div>
                    </div>

                    <div class="mb-3">
                        <div class="text-center">
                            <button class="btn btn-secondary">取消</button>
                            <button class="btn btn-primary" id="ok_btn">確認</button>
                        </div>
                    </div>
                </div>
                <div class="demo" id="showmsg"></div>
            </div>
        </div>
    </div>



    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.6.4.min.js"></script>

    <script>

        var flag_username = false;
        var flag_password = false;
        var flag_confirm_password = false;
        var flag_email = false;

        $(function () {
            //change事件監聽
            // $(function(){
            //     $("#username").change(function(){
            //         console.log($(this).val());
            //     });
            // });

            //即時監聽
            $("#username").bind("input propertychange", function () {
                if ($(this).val().length != 0) {
                    if ($(this).val().length > 0 && $(this).val().length < 9) {
                        $(".err_username").html("帳號字數符合規則!");
                        $(".err_username").css("color", "green");
                        flag_username = true;
                        console.log(flag_username);
                    }
                    else {
                        $(".err_username").html("帳號不符合規則，請重新輸入帳號!");
                        $(".err_username").css("color", "red");
                        flag_username = false;
                    }

                }
                else {
                    $(".err_username").html("&nbsp");
                }

            });

            $("#password").bind("input propertychange", function () {
                if ($(this).val().length != 0) {
                    if ($(this).val().length > 3 && $(this).val().length < 11) {
                        $(".err_password").html("密碼字數符合規則!");
                        $(".err_password").css("color", "green");
                        flag_password = true;
                    }
                    else {
                        $(".err_password").html("密碼字數不符合規則，請重新輸入密碼!");
                        $(".err_password").css("color", "red");
                        flag_password = false;
                    }
                }
                else {
                    $(".err_password").html("&nbsp");
                }

            });

            $("#confirm_password").bind("input propertychange", function () {
                if ($(this).val().length != 0) {
                    if ($(this).val().length > 3 && $(this).val().length < 11) {
                        if ($(this).val() == $("#password").val()) {
                            $(".err_confirm_password").html("密碼輸入一致!");
                            $(".err_confirm_password").css("color", "green");
                            flag_confirm_password = true;
                        }
                        else {
                            $(".err_confirm_password").html("密碼輸入不一致，請重新輸入密碼!");
                            $(".err_confirm_password").css("color", "red");
                            flag_confirm_password = false;
                        }
                    }
                    else {
                        $(".err_confirm_password").html("密碼字數不符合規則，請重新輸入密碼!");
                        $(".err_confirm_password").css("color", "red");
                        flag_confirm_password = false;
                    }
                }
                else {
                    $(".err_confirm_password").html("&nbsp");
                }


            });

            $("#email").bind("input propertychange", function () {

                if ($(this).val().length > 7 && $(this).val().length < 13) {
                    $(this).removeClass("is-invalid");
                    $(this).addClass("is-valid");
                    flag_email = true;
                }
                else {
                    $(this).removeClass("is-valid");
                    $(this).addClass("is-invalid");
                    flag_email = false;
                }



            });

            //ok_btn按鈕監聽
            $("#ok_btn").click(function () {
                console.log(flag_confirm_password);
                if (flag_username && flag_password && flag_confirm_password && flag_email) {
                    $("#showmsg").html("<h3>帳號：" + $("#username").val() + "</h3><h3>密碼：" + $("#password").val() + "</h3><h3>確認密碼：" + $("#confirm_password").val() + "</h3><h3>Email：" + $("#email").val() + "</h3>");
                }
                else {
                    alert("欄位輸入錯誤，請重新確認輸入!");
                }

            });


        });


    </script>
</body>

</html>